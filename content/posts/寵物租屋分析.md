---
title: "寵物租屋分析"
date: 2021-06-29
draft: true
categories: 
- Python
tags:
- Python
- 爬蟲
---
Tags: python

### 概念

591 為前端渲染，透過 call API 來獲取資料。

一、首先使用 selenium 打開 chrome，

二、接著透過 chrome driver 點擊網頁進行條件篩選，

三、網頁篩選過後再使用 beautiful soup 將該頁所有網址連接進行解析，

四、拿到該頁所有網址內的內容資訊，

五、再透過 chrome driver 點擊網頁下一頁，

六、再重複第三和第四步的動作，拿到所有頁面的資訊。

### Python 連接資料庫

mySQLclient 是使用C語言編寫，效能比 Python 的官方連接器(mySQL connector)好，但在 Windows 的環境安裝和設置比較困難。

mySQLdb 也是使用C語言編寫，效能同樣較Python 的官方連接器(mySQL connector)好，但僅，但僅適用於 Python2。

pymySQL

除了使用SQL語言，將 Python 的數據連接到 mySQL，有越來越多人習慣用 ORM 透過 python 語法更輕易地操作資料庫。ex:SQLAlchemy。

### 在 Python 使用 mySQLclient

連接資料庫：

```python
db = MySQLdb.connect(host="127.0.0.1", user="simple", passwd="123456789", db="rent591")
```

```python
cursor = db.cursor()
```

在資料庫新增資料：

**SQL=" insert into users(user_name,age,gender,email,password) value ('愛咪','12','女','amy@gmail.com','123')"**

**cursor.execute(SQL)**

**conn.commit()**

```python
SQL = 'insert into url(url) values(%s)'
```

```python
cursor.execute(SQL, [url])
```

```python
db.commit()
```

查詢資料表：

```python
SQL = 'select * from url'
```

```python
cursor.execute(SQL)
```

```python
urls = cursor.fetchall()
```

```python
cursor = conn.cursor(MySQLdb.cursors.DictCursor)
```